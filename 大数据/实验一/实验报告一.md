# 第一次实验报告

| 姓名 | 学号      | 邮箱                  | 院系       |
| ---- | --------- | --------------------- | ---------- |
| 姜帅 | 221220115 | js13156223725@163.com | 计算机学院 |

## 任务一：Hadoop伪分布式环境安装与配置，HDFS基本操作

参考讲义04，安装对应版本的`java`和`hadoop`，并配置好`hadoop`的环境

- 启动hdfs和yarn，查看web界面：

  - 命令行中输入启动指令

  <img src="C:\Users\Jsissosix\AppData\Roaming\Typora\typora-user-images\image-20250311102159364.png" alt="image-20250311102159364" style="zoom: 67%;margin:0" />

  - 查看hdfs的web界面

  <img src="C:\Users\Jsissosix\AppData\Roaming\Typora\typora-user-images\image-20250311102333464.png" alt="image-20250311102333464" style="zoom: 45%;margin:0" />

  - 查看yarn的web界面

    <img src="C:\Users\Jsissosix\AppData\Roaming\Typora\typora-user-images\image-20250311102417493.png" alt="image-20250311102417493" style="zoom: 50%; margin: 0px;" />

- hadoop安装后启动的结果如下

  <img src="C:\Users\Jsissosix\AppData\Roaming\Typora\typora-user-images\image-20250308165811724.png" alt="image-20250308165811724" style="zoom:80%; margin:0" />

- hdfs基本操作

  1. **向hdfs上传文件：**通过命令 `bin/hdfs dfs-put <path_to_local_file> <path_to_hdfs_file>`,例如，按照讲义04的指引向hdfs上传两个文本文件，输入 `bin/hdfs dfs-put /root/test/*.txt test-in`，浏览hdfs文件系统，发现文件上传成功：

     <img src="C:\Users\Jsissosix\AppData\Roaming\Typora\typora-user-images\image-20250308170430879.png" alt="image-20250308170430879" style="zoom:80%;" />

  2. **删除上传的文件（附带浏览hfds目录）：**浏览目录指令可以使用`bin/hdfs dfs -ls <path>`,也可以直接在web图形界面中浏览，同理，对文件的删除操作可以在web中执行，也可以在命令行中输入`bin/hdfs dfs -rm <path>`,具体操作如下图所示：

     <img src="C:\Users\Jsissosix\AppData\Roaming\Typora\typora-user-images\image-20250308171353484.png" alt="image-20250308171353484" style="zoom:80%; margin:0" />

---

## 任务二：执行Hadoop官方示例程序wordcount

#### ①上传example.txt到HDFS

首先将`example.txt`传到本地文件系统，使用hdfs的上传命令：

```bash
bin/hdfs dfs -put ~/test/example.txt test-in
```

如图所示，`example.txt`成功上传

<img src="C:\Users\Jsissosix\AppData\Roaming\Typora\typora-user-images\image-20250305165625822.png" alt="image-20250305165625822" style="zoom: 67%;" />

#### ②使用官方jar包执行wordcount任务

执行命令：

```bash
bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.1.jar wordcount test-in/example.txt temp_output
```

#### ③观察MapReduce执行过程

观察控制台上的输出可见，该次执行过程涉及1个map任务和1个reduce任务，此外还可以看到作业从文件系统读取的数据（HDFS 212字节，FILE 111字节），输出（HDFS 73字节，FILE 452809字节），Map、Reduce阶段的记录数，总计耗时（3.7秒），shuffle错误等等。

同时，观察yarn web页面的执行情况如下：

<img src="C:\Users\Jsissosix\AppData\Roaming\Typora\typora-user-images\image-20250305170245018.png" alt="image-20250305170245018" style="zoom: 67%;" />

#### ④ 执行结果

<img src="C:\Users\Jsissosix\AppData\Roaming\Typora\typora-user-images\image-20250305170612191.png" alt="image-20250305170612191" style="zoom:67%; margin-left:0" />

---

## 任务三：Git安装与基本操作

- 将仓库fork后创建新分支`new_branch`，clone到本地。

- 根据任务要求，为`pkg/ddc/alluxio/ufs_test.go`下的`TestUpdateMountTime`函数添加注释，本地修改如下：

  <img src="C:\Users\Jsissosix\AppData\Roaming\Typora\typora-user-images\image-20250311102842750.png" alt="image-20250311102842750" style="zoom:80%; margin:0" />

- 完成任务后提交（commit），并推送（push）到自己仓库的相应分支，如图所示：

  <img src="C:\Users\Jsissosix\AppData\Roaming\Typora\typora-user-images\image-20250306113308198.png" alt="image-20250306113308198" style="zoom: 80%; margin-left:0" />

- 按照要求，创建一个issue到`fluid-cloudnative/fluid`，如下图所示：**issue编号为#4543**

  <img src="C:\Users\Jsissosix\AppData\Roaming\Typora\typora-user-images\image-20250308163438984.png" alt="image-20250308163438984" style="zoom:50%; margin-left:0" />

- 按照要求，创建一个合并请求 (PR)，并等待合并，如下图所示：**PR编号为#4544**

  <img src="C:\Users\Jsissosix\AppData\Roaming\Typora\typora-user-images\image-20250308163841383.png" alt="image-20250308163841383" style="zoom:50%;margin:0" />

  - 合并成功，如下图所示：

    <img src="C:\Users\Jsissosix\AppData\Roaming\Typora\typora-user-images\image-20250311101254213.png" alt="image-20250311101254213" style="zoom: 50%; margin: 0px;" />